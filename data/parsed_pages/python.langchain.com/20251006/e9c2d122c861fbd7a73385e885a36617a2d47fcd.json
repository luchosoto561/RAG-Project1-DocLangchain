{
  "provenance": {
    "url_final": "https://python.langchain.com/docs/how_to/multimodal_prompts/",
    "title": "How to use multimodal prompts | ü¶úÔ∏èüîó LangChain",
    "fetched_at": "2025-10-06T21:55:58.344907"
  },
  "sections": [
    {
      "level": 1,
      "heading_text": "How to use multimodal prompts | ü¶úÔ∏èüîó LangChain",
      "blocks": [
        {
          "type": "paragraph",
          "text": "Here we demonstrate how to use prompt templates to format multimodal inputs to models."
        },
        {
          "type": "paragraph",
          "text": "To use prompt templates in the context of multimodal data, we can templatize elements of the corresponding content block. For example, below we define a prompt that takes a URL for an image as a parameter:"
        },
        {
          "type": "code",
          "code": "from langchain_core.prompts import ChatPromptTemplate# Define promptprompt = ChatPromptTemplate(    [        {            \"role\": \"system\",            \"content\": \"Describe the image provided.\",        },        {            \"role\": \"user\",            \"content\": [                {                    \"type\": \"image\",                    \"source_type\": \"url\",                    \"url\": \"{image_url}\",                },            ],        },    ])"
        },
        {
          "type": "paragraph",
          "text": "Let's use this prompt to pass an image to a chat model:"
        },
        {
          "type": "code",
          "code": "from langchain.chat_models import init_chat_modelllm = init_chat_model(\"anthropic:claude-3-5-sonnet-latest\")url = \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg\"chain = prompt | llmresponse = chain.invoke({\"image_url\": url})print(response.text())"
        },
        {
          "type": "code",
          "code": "This image shows a beautiful wooden boardwalk cutting through a lush green wetland or marsh area. The boardwalk extends straight ahead toward the horizon, creating a strong leading line through the composition. On either side, tall green grasses sway in what appears to be a summer or late spring setting. The sky is particularly striking, with wispy cirrus clouds streaking across a vibrant blue background. In the distance, you can see a tree line bordering the wetland area. The lighting suggests this may be during \"golden hour\" - either early morning or late afternoon - as there's a warm, gentle quality to the light that's illuminating the scene. The wooden planks of the boardwalk appear well-maintained and provide safe passage through what would otherwise be difficult terrain to traverse. It's the kind of scene you might find in a nature preserve or wildlife refuge designed to give visitors access to observe wetland ecosystems while protecting the natural environment."
        },
        {
          "type": "paragraph",
          "text": "Note that we can templatize arbitrary elements of the content block:"
        },
        {
          "type": "code",
          "code": "prompt = ChatPromptTemplate(    [        {            \"role\": \"system\",            \"content\": \"Describe the image provided.\",        },        {            \"role\": \"user\",            \"content\": [                {                    \"type\": \"image\",                    \"source_type\": \"base64\",                    \"mime_type\": \"{image_mime_type}\",                    \"data\": \"{image_data}\",                    \"cache_control\": {\"type\": \"{cache_type}\"},                },            ],        },    ])"
        },
        {
          "type": "code",
          "code": "import base64import httpximage_data = base64.b64encode(httpx.get(url).content).decode(\"utf-8\")chain = prompt | llmresponse = chain.invoke(    {        \"image_data\": image_data,        \"image_mime_type\": \"image/jpeg\",        \"cache_type\": \"ephemeral\",    })print(response.text())"
        },
        {
          "type": "code",
          "code": "This image shows a beautiful wooden boardwalk cutting through a lush green marsh or wetland area. The boardwalk extends straight ahead toward the horizon, creating a strong leading line in the composition. The surrounding vegetation consists of tall grass and reeds in vibrant green hues, with some bushes and trees visible in the background. The sky is particularly striking, featuring a bright blue color with wispy white clouds streaked across it. The lighting suggests this photo was taken during the \"golden hour\" - either early morning or late afternoon - giving the scene a warm, peaceful quality. The raised wooden path provides accessible access through what would otherwise be difficult terrain to traverse, allowing visitors to experience and appreciate this natural environment."
        }
      ],
      "children": []
    }
  ]
}