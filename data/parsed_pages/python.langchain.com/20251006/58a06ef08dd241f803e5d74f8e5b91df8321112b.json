{
  "provenance": {
    "url_final": "https://python.langchain.com/docs/how_to/tool_calling_parallel/",
    "title": "How to disable parallel tool calling | ðŸ¦œï¸ðŸ”— LangChain",
    "fetched_at": "2025-10-06T21:56:34.538424"
  },
  "sections": [
    {
      "level": 1,
      "heading_text": "How to disable parallel tool calling | ðŸ¦œï¸ðŸ”— LangChain",
      "blocks": [
        {
          "type": "paragraph",
          "text": "This API is currently only supported by OpenAI and Anthropic."
        },
        {
          "type": "paragraph",
          "text": "OpenAI tool calling performs tool calling in parallel by default. That means that if we ask a question like \"What is the weather in Tokyo, New York, and Chicago?\" and we have a tool for getting the weather, it will call the tool 3 times in parallel. We can force it to call only a single tool once by using the parallel_tool_call parameter."
        },
        {
          "type": "paragraph",
          "text": "First let's set up our tools and model:"
        },
        {
          "type": "code",
          "code": "from langchain_core.tools import tool@tooldef add(a: int, b: int) -> int:    \"\"\"Adds a and b.\"\"\"    return a + b@tooldef multiply(a: int, b: int) -> int:    \"\"\"Multiplies a and b.\"\"\"    return a * btools = [add, multiply]"
        },
        {
          "type": "code",
          "code": "import osfrom getpass import getpassfrom langchain.chat_models import init_chat_modelif \"OPENAI_API_KEY\" not in os.environ:    os.environ[\"OPENAI_API_KEY\"] = getpass()llm = init_chat_model(\"openai:gpt-4.1-mini\")"
        },
        {
          "type": "paragraph",
          "text": "Now let's show a quick example of how disabling parallel tool calls work:"
        },
        {
          "type": "code",
          "code": "llm_with_tools = llm.bind_tools(tools, parallel_tool_calls=False)llm_with_tools.invoke(\"Please call the first tool two times\").tool_calls"
        },
        {
          "type": "code",
          "code": "[{'name': 'add',  'args': {'a': 2, 'b': 2},  'id': 'call_Hh4JOTCDM85Sm9Pr84VKrWu5'}]"
        },
        {
          "type": "paragraph",
          "text": "As we can see, even though we explicitly told the model to call a tool twice, by disabling parallel tool calls the model was constrained to only calling one."
        }
      ],
      "children": []
    }
  ]
}